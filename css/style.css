:root{
  --bg: #0f1115;
  --panel: rgba(255,255,255,0.04);
  --text: #e8eef6;
  --accent: #ffcc00;
  --bomb-size: 72px;
  --hud-height: 64px;
}

*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg,#0b0d11 0%, #111217 100%);
  color:var(--text);
  -webkit-tap-highlight-color: transparent;
}

#game-root{display:flex;flex-direction:column;height:100vh;}

#hud{
  height:var(--hud-height);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 16px;
  gap:12px;
  background: rgba(0,0,0,0.15);
  border-bottom:1px solid rgba(255,255,255,0.03);
}
#hud-left, #hud-center, #hud-right { display:flex; align-items:center; gap:12px; }
#hud-center { flex:1; justify-content:center; }
#score, #timer, #level { font-weight:600; color: #dfe8ff; }
#counter { font-size:1.1rem; font-weight:700; padding:6px 10px; background: rgba(255,255,255,0.03); border-radius:6px; }

#play-area{
  position:relative;
  flex:1;
  overflow:hidden;
}

/* Bomb base */
.bomb{
  position:absolute;
  width:var(--bomb-size);
  height:var(--bomb-size);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:700;
  user-select:none;
  touch-action: manipulation;
  box-shadow: 0 6px 14px rgba(0,0,0,0.6), inset 0 -6px 12px rgba(0,0,0,0.25);
  transform-origin:center center;
  transition: transform 120ms linear;
  cursor:pointer;
}

/* fuse (small circle at top) */
.bomb::after{
  content:"";
  position:absolute;
  top:-10px;
  left:50%;
  transform:translateX(-50%);
  width:10px;height:10px;border-radius:50%;
  box-shadow: 0 0 8px rgba(255,200,40,0.8);
  animation: fuse-flash 700ms infinite;
}

/* Colors */
.bomb.black{ background: linear-gradient(180deg,#2b2b2b,#111); }
.bomb.blue{ background: linear-gradient(180deg,#2a66ff,#1634b5); box-shadow: 0 6px 16px rgba(36,60,150,0.45), inset 0 -6px 12px rgba(0,0,0,0.25); }
.bomb.red{ background: linear-gradient(180deg,#ff5252,#9b1a1a); box-shadow: 0 6px 16px rgba(180,40,40,0.45), inset 0 -6px 12px rgba(0,0,0,0.25); }

@keyframes fuse-flash {
  0% { opacity: 0.9; transform: translateX(-50%) scale(1); }
  50%{ opacity: 0.3; transform: translateX(-50%) scale(0.8); }
  100%{ opacity: 0.9; transform: translateX(-50%) scale(1); }
}

/* value text */
.bomb .value{
  pointer-events:none;
  z-index:2;
  font-size:18px;
  text-shadow: 0 1px 0 rgba(0,0,0,0.8);
}

/* disarm animation - shrink to center */
.bomb.disarm {
  animation: shrink-out 300ms ease-in forwards;
}
@keyframes shrink-out {
  0%{ transform: scale(1); opacity:1; }
  100%{ transform: scale(0.08); opacity:0; }
}

/* explosion mark (visual) */
.explosion {
  position:absolute;
  width:20px;height:20px;border-radius:50%;
  background: radial-gradient(circle, rgba(255,200,60,1) 0%, rgba(255,120,20,0.9) 30%, rgba(255,60,30,0.7) 60%, rgba(0,0,0,0) 100%);
  pointer-events:none;
  transform-origin:center center;
  animation: explosion-pop 500ms ease-out forwards;
  filter: blur(2px);
}
@keyframes explosion-pop{
  0%{ transform: scale(0.2); opacity:1; }
  100%{ transform: scale(6); opacity:0; }
}

/* bonus icon */
.bonus {
  position:absolute;
  width:44px;height:44px;border-radius:8px;
  display:flex;align-items:center;justify-content:center;
  font-size:14px;font-weight:700;
  background: rgba(255,255,255,0.07);
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 6px 14px rgba(0,0,0,0.6);
  cursor:pointer;
  transition: transform 120ms;
}
.bonus:active{ transform: scale(0.95); }

/* overlay */
#overlay{
  position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(0,0,0,0.4), rgba(0,0,0,0.6));
  z-index:1000;
}
#overlay.hidden{ display:none; }
#overlay-panel{
  background: #0b0e14; padding:20px 28px;border-radius:12px; box-shadow: 0 12px 40px rgba(2,6,15,0.7);
  border:1px solid rgba(255,255,255,0.03); min-width:320px; text-align:center;
}
#overlay-panel h2{ margin:0 0 8px 0; color:var(--accent) }
.overlay-actions{ margin-top:12px; display:flex; gap:12px; justify-content:center; }
button{ padding:8px 12px; border-radius:8px; border:none; cursor:pointer; background:var(--accent); color:#111; font-weight:700; }
button.secondary{ background:transparent; color:var(--text); border:1px solid rgba(255,255,255,0.06); }

#footer{ padding:8px 14px; font-size:12px; color: rgba(255,255,255,0.5); text-align:center; background: rgba(0,0,0,0.02) }
